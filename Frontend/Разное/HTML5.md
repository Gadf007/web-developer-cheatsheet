# HTML 5

- [HTML 5.0](#html-5.0)
    - [`<canvas>`](#canvas)
    - [`<video>` и `<audio>`](#video-и-audio)
    - [Контекстные меню](#контекстные-меню)
    - [Новые структурные элементы](#новые-структурные-элементы)
    - [Новые inline-элементы](#новые-inline-элементы)
    - [Новые типы полей ввода](#новые-типы-полей-ввода)
    - [Устаревшие (deprecated) элементы](#устаревшие-deprecated-элементы)
    - [Синтаксис для задания кодировки](#синтаксис-для-задания-кодировки)
    - [Интерактивные нововведения](#интерактивные-нововведения)
    - [Новое определение типа документа (DTD)](#новое-определение-типа-документа-dtd)
    - [Необязательный href в ссылках](#необязательный-href-в-ссылках)
    - [Атрибут async](#атрибут-async)
- [HTML 5.1](#html-5.1)
    - [Контекстное меню при помощи тегов `<menu>` и `<menuitems>`](#контекстное-меню-при-помощи-тегов-menu-и-menuitems)
    - [Элементы `<details>` и `<summary>`](#элементы-details-и-summary)
    - [Дополнительные типы поля `<input>` – month, week и datetime-local](#дополнительные-типы-поля-input--month-week-и-datetime-local)
    - [Адаптивные изображения](#адаптивные-изображения)
    - [Атрибут изображения *srcset*](#атрибут-изображения-srcset)
    - [Атрибут изображения *sizes*](#атрибут-изображения-sizes)
    - [Тег `<picture>`](#тег-picture)
    - [Валидация форм с помощью form.reportValidity()](#валидация-форм-с-помощью-form.reportvalidity)
    - [Атрибут *allowfullscreen* для фреймов](#атрибут-allowfullscreen-для-фреймов)
    - [Проверка орфографии при помощи element.forceSpellCheck()](#проверка-орфографии-при-помощи-element.forcespellcheck)
- [HTML 5.2](#html-5.2)
    - [Поддержка модульного JavaScript](#поддержка-модульного-javascript)
    - [Элемент `<dialog>`](#элемент-dialog)
    - [Атрибут *nonce* для `<link>`](#атрибут-nonce-для-link)
    - [Элемент `<iframe>`](#элемент-iframe)
    - [Удалены из стандарта](#удалены-из-стандарта)
    - [Более не соответствует стандарту](#более-не-соответствует-стандарту)
    - [Валидным с точки зрения стандарта стало](#валидным-с-точки-зрения-стандарта-стало)
- [Полезные ссылки](#полезные-ссылки)

## HTML 5.0

### `<canvas>`

`<canvas>` - это поле для рисования двухмерной графики, управляемый с помощью JavaScript. Вы можете использовать его для построения графиков и других динамических изображений. 

```html
<canvas width="300" height="225"></canvas>
```

### `<video>` и `<audio>`

Тег `<video>` упрощает добавление видео клипов на HTML-страницы. Он может содержать атрибуты **src**, **autoplay** и **loop**. Тег `<video>` также допускает задание текстового описания для видео (например, для незрячих людей). В идеале это должна быть полная текстовая интерпретация видео.

```html
<video>
	<source src="URL">
</video>
```

Тег `<audio>` очень похож на `<video>`, но предназначен для аудио-файлов.

```html
<audio src="URL"></audio>
<audio>
	<source src="URL">
</audio>
```

### Контекстные меню

HTML5 также предусматривает метод для простого добавления на веб-страницу контекстных меню. Возможно, такие меню не слишком полезны для обычных сайтов. Зато для приложений, в которых множество функций хотелось бы сгруппировать и отображать контекстно, такая возможность в самый раз. 

### Новые структурные элементы

Так как HTML 4 слабо структурирован, в 5-ю версию спецификации были добавлены новые элементы, призванные исправить этот недостаток:

- `<section>` - секция, либо параграф
- `<header>` - верхний колонтитул страницы (не путать с `<head>`)
- `<footer>` - нижний колонтитул страницы
- `<nav>` - содержит набор ссылок на другие страницы. Например, вы можете расположить там навигацию по вашему сайту
- `<article>` - в этот тег может быть включена, например, статья блога
- `<aside>` - может быть использован для предоставления дополнительной информации к текстовому блоку
- `<figure>` - может быть использован, например, для создания диаграмм

### Новые inline-элементы

Стандарт HTML5 вводит новые элементы, которые позволяют специальным образом выделять фрагменты текста, содержащие время и числа:

- `<mark>` - помечает фрагмент текста. Можно, например, отметить найденные термы в списке результатов поиска
- `<time>` - можете использовать этот тег для вывода времени или даты в текстовом блоке
- `<meter>` - для представления чисел в определенном диапазоне. Он может иметь различные атрибуты: **value**, **min**, **max**, **low**, **high** и **optimum**
- `<progress>` - может быть использован для отображения индикатора состояния процесса. Имеет пару атрибутов: **value** и **max**

### Новые типы полей ввода 

HTML5 добавляет ряд новых типов для полей ввода данных:

- datetime
- datetime-local
- date
- month
- week
- time
- number
- range
- email
- url

Некоторые из них широко применяются в пользовательских интерфейсах desktop-приложений. И, вероятнее всего, они будут уже хорошо знакомы всем вашим пользователям.

### Устаревшие (deprecated) элементы

Следующие элементы HTML считаются устаревшими:

- acronym
- applet
- basefont
- big
- center
- dir
- font
- frame
- frameset
- isindex
- noframes
- noscript
- s
- strike
- tt
- u

### Синтаксис для задания кодировки

Синтаксис для задания кодировки документа в HTML5 теперь выглядит очень просто: `<meta charset="UTF-8">`

### Интерактивные нововведения

Несколько нововведений, которые сделают создание сайтов и web-приложений проще и приятнее:

- `<details>` - дополнительная информация о чем либо. Например, данный тег может быть использован в браузерах для реализации подсказки. Тег может иметь атрибут open, указывающий будет ли содержимое тега изначально показано пользователю или нет.
- `<datagrid>` - В отличие от традиционных таблиц (которые задуманы как статические), этот тег может быть использован для представления интерактивного набора данных. Например, для таблицы с выбором строк или колонок, inline-редактированием данных, сортировкой и т.п. 
- `<menu>` - ранее нерекомендуемый, тег `<menu>` вернулся в стандарт HTML5 в новом обличии. Теперь он может содержать, например, элементы `<command>`, которые вызывают соответствующие команды. Этот элемент можно использовать для представления панели инструментов или контекстного меню. Тег может иметь атрибуты **label** и **icon**. Они могут быть добавлены для создания многоуровнего меню.

### Новое определение типа документа (DTD)

В HTML5 стало гораздо проще объявлять DTD: `<!doctype html>` Объявление DTD стало более симпатичным и, я полагаю, проще запоминающимся. Скорее всего, это является результатом того, что HTML больше не связан с SGML.

### Необязательный href в ссылках

Атрибут **href** теперь необязательный, поскольку ссылки могут использоваться в сочетании со сценариями. Вероятно, это будет полезно в web-приложениях.

### Атрибут async

Атрибут дает браузеру подсказку, что блок сценария может выполняться асинхронно, вместо того, чтобы ждать, пока страница не загрузилась полностью.



## HTML 5.1

### Контекстное меню при помощи тегов `<menu>` и `<menuitems>`

Черновая версия 5.1 представляет два типа элементов menu: **context** и **toolbar**. Первое используется для расширения родного контекстного меню, которое обычно отображается по клику на правую кнопку мыши по странице. Второй определяет простые компоненты меню. В процессе разработки от toolbar отказались, тег context до сих пор присутствует.

С помощью тега `<menu>` можно создать меню с одним или более тегами `<menuitems>`, после чего присвоить эти теги к любым элементам при помощи атрибута **contextmenu**. Тег `<menuitem>` может быть одного из трех типов:

- checkbox — позволяет выбирать или снимать выбор
- command — позволяет выполнять действие по клику
- radio — позволяет выбирать один вариант из группы

### Элементы `<details>` и `<summary>`

Теги `<details>` и `<summary>` позволяют показывать и прятать блоки с дополнительной информацией по клику. Обычно такое делают на JS, но теперь это можно делать и с помощью тегов `<details>` и `<summary>`. По клику на тег `<summary>` открывается контент из тега `<details>`.

```html
<details>
	<summary>Текст</summary>
</details>
```

### Дополнительные типы поля `<input>` – month, week и datetime-local

Арсенал поля `<input>` был расширен тремя новыми типами: **month**, **week** и **datetime-local**.

Первые два типа позволяют выбирать неделю и месяц. В Chrome оба этих типа показываются в виде выпадающих календарей, где можно выбрать месяц или неделю. При получении доступа из JS строка будет выглядеть примерно так: «2016-W43» для week и «2016-10» для month.

Изначально в черновике 5.1 было представлено два инпута date-time: **datetime** и **datetime-local**. Разница между ними в том, что **datetime-local** всегда выбирает время в часовом поясе пользователя, а **datetime** позволяет менять часовой пояс. В процессе разработки тип **datetime** был отброшен, остался только **datetime-local**. Поле типа **datetime-local** состоит из двух частей: даты, которую можно выбрать так же, как и в полях типа week и month, и времени, которое можно указать отдельно.

### Адаптивные изображения

В HTML 5.1 появилось несколько новых функций для работы с адаптивными изображениями без подключения CSS. У каждой функции есть свои примеры использования.

### Атрибут изображения *srcset*

Атрибут изображения **srcset** позволяет прописать несколько дополнительных изображений с различной плотностью пикселей. Так браузер может загружать изображения нужного качества под устройство пользователя (на основе плотности пикселей на устройстве, уровне зума и скорости сети). К примеру, для пользователей с маленькими телефонами или медленной сетью можно показывать изображения низкого разрешения.

Атрибут **srcset** принимает список URL изображений, разделенных запятой с Х модификатором. Модификаторы описывают соотношение пикселей (количество физических пикселей на CSS пиксель), подходящее к каждому изображению.

```html
<img
  src="images/low-res.jpg"
  srcset="images/low-res.jpg 1x, 
          images/high-res.jpg 2x, 
          images/ultra-high-res.jpg 3x"
>
```

Если соотношение пикселей равно 1, будет показано изображение low-res, для 2 будет показано high-res, для 3 — ultra-high-res. Можно показывать изображения разных размеров вместо соотношения пикселей.

### Атрибут изображения *sizes*

Возможно, вы захотите показывать изображения разными способами в зависимости от размера экрана. К примеру, можно показывать изображения в две колонки на широких экранах, а для узких экранов – в одну колонку. В этом вам поможет атрибут **sizes**. Атрибут позволяет переводить ширину экрана в пространство, отведенное для изображения, после чего подходящее изображение выбирается с помощью атрибута **srcset**.

```html
<img
  src="images/low-res.jpg"
  sizes="(max-width: 40em) 100vw, 50vw" 
  srcset="images/low-res.jpg 600w, 
          images/high-res.jpg 1000w, 
          images/ultra-high-res.jpg 1400w"
>
```

Когда ширина окна браузера больше 40em, атрибут **sizes** определяет ширину изображения, как 50% от ширины окна. Когда ширина окна меньше или равна 40em, ширина изображения составляет 100%.

### Тег `<picture>`

Недостаточно просто менять размер изображений под разные экраны. Вам нужен способ показывать совсем другие изображения. В этом вам поможет тег `<picture>`. Данный тег позволяет прописать несколько изображений для разных экранов. Для этого нужно обернуть тег `<img>` в `<picture>` и указать дополнительные теги `<source>`. В тегах `<source>` указываются ссылки на изображения.

```html
<picture>
	<source
    media="(max-width: 20em)"
    srcset="images/small/low-res.jpg 1x,
		        images/small/high-res.jpg 2x, 
		        images/small/ultra-high-res.jpg 3x"
	>
	<source
    media="(max-width: 40em)"
    srcset="images/large/low-res.jpg 1x,
		        images/large/high-res.jpg 2x, 
		        images/large/ultra-high-res.jpg 3x"
  >
	<img src="images/large/low-res.jpg">
</picture>
```

### Валидация форм с помощью form.reportValidity()

В HTML5 прописан метод `form.checkValidity()`, с помощью которого можно проверять поля формы по валидаторам. В качестве результата возвращается Булево значение. Новый метод reportValidity() работает схожим образом. С его помощью можно провести валидацию формы и вернуть результат. Дополнительно данный метод показывает ошибки пользователю прямо в браузере.

### Атрибут *allowfullscreen* для фреймов

Новый булев атрибут для фреймов **allowfullscreen** позволяет изменять способ отображения контента при помощи метода requestFullscreen(). С его помощью можно разворачивать контент на весь экран.

### Проверка орфографии при помощи element.forceSpellCheck()

Новый метод `element.forceSpellCheck()` позволяет включать проверку текстовых элементов на орфографию. Это также первая функция, которая пока что не поддерживается ни в одном браузере. Чисто теоретически, данный метод можно использовать для проверки орфографии нередактируемых элементов.



## HTML 5.2

### Поддержка модульного JavaScript

Самая интересная и ожидаемая новация связана с поддержкой модульного синтаксиса последнего стандарта ECMA Script. Использование будет происходить следующим образом:

```
<script type="module">
	import { app } from './app';
	app.run();
</script>
```

Для того, что бы обеспечить загрузку каждого импортируемого скрипта не более одного раза на документ или web worker, реализована коллекция (module map), которая будет содержать ссылочные записи с одним из следующих значений:
- непосредственно модульный скрипт (module script);
- null, используемых для индикации неудавшихся загрузок;
- fetching -временный плейсхолдер.

Путь к файлу будет сначала пропущен через Парсер ссылки (URL parser), корректные значения будут использованы для разрешения пути. Повторяющиеся пути будут проигнорированы.

Следует отметить, что если путь начинается не с символов "/", "./" или "../" будет возвращена ошибка. Это обусловлено планируемым в будущем внедрением «голого» импорта.

Отдельно следует учесть, что некорректный MIME type, в отличие от обычных скриптов, в отношении модульного скрипта будет ошибкой.

### Элемент `<dialog>`

Тэг `<dialog>` определяет окно или контейнер, предназначенный для создания всплывающих и модальных окон. Кроме стандартных html атрибутов, данному тегу будет доступен один булиевый атрибут **open** сообщающий о том, является ли элемент активным и доступным пользователю для взаимодействия. В качестве JavaScript объекта `<dialog>`, кроме стандартных свойств и методов, получил свойства:

- open — геттер/сеттер — активен ли элемент
- returnValue — геттер/сеттер — значение возвращаемое элементом,
а также методы
- close() — закрывает элемент
- open() — показывает элемент
- showModal() показывает элемент и делает его модальным элементов верхнего уровня

### Атрибут *nonce* для `<link>`

Элемент `<link>` получил атрибут **nonce**, представляющий собой криптографический nonce («специально для данного случая»), который может быть использован для определения будет ли внешний ресурс указанный в `<link>` загружен и применен к документу.

### Элемент `<iframe>`

Элемент `<iframe>` получил сразу два изменения, новый атрибут **allowpaymentrequest** для интеграции с Payment Request API и новое значение для атрибута sandbox для интеграции с Presentation API.

### Удалены из стандарта

- элементы `<keygen>`, `<menu>` и `<menuitem>`
- атрибут **inputmode** для текстовых `<input>`, и dropzone атрибутов
- метод `showModalDialog`

### Более не соответствует стандарту

- **role** у элемента `<caption>`
- строгий HTML4 или XHTML1 Doctype

### Валидным с точки зрения стандарта стало

- использования тега `<style>` внутри `<body>`
- множественные `<main>` элементы в ДОМе, при условии, что только один видим для пользователя
- презентации для `<img>`
- пустой `<option>` для `<datalist>`



## Полезные ссылки

- [Документация](https://www.w3schools.com/html/)
- [Что нового в HTML 5](http://www.quizful.net/post/new-in-html-5)
- [Что нового в HTML 5.1](https://webformyself.com/chto-novogo-v-html-5-1/)
- [Что нового в HTML 5.2](https://habr.com/ru/post/345388/)
- [Валидация HTML](https://validator.w3.org/)
- [HTML 5 Cheat Sheet](files/html5_tags_cheatsheet.jpeg)